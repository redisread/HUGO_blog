---
title: 12å§‹ç»ˆè¦†ç›– toString æ–¹æ³•
date: 2021-10-30T21:51:20+08:00
description: Always override toString.
draft: true
hideToc: false
enableToc: true
enableTocContent: false
tocPosition: outer
author: Victor
authorEmoji: ğŸª¶
image:
plantuml: true
libraries:
- katex
- mathjax
tags:
-
series:
-
categories:
-
---

<!--ç¬¬ä¸‰ç« ï¼šå¯¹è±¡çš„é€šç”¨æ–¹æ³•-->

### toStringæ–¹æ³•æœ‰ä»€ä¹ˆç”¨ï¼Ÿ

è™½ç„¶ Object æä¾› toString æ–¹æ³•çš„å®ç°ï¼Œä½†å®ƒè¿”å›çš„å­—ç¬¦ä¸²é€šå¸¸ä¸æ˜¯ç±»çš„ç”¨æˆ·å¸Œæœ›çœ‹åˆ°çš„ã€‚å®ƒç”±åè·Ÿã€Œatã€ç¬¦å·ï¼ˆ@ï¼‰çš„ç±»åå’Œ hash ä»£ç çš„æ— ç¬¦å·åå…­è¿›åˆ¶è¡¨ç¤ºï¼ˆä¾‹å¦‚ PhoneNumber@163b91ï¼‰ç»„æˆã€‚

![toStringæ–¹æ³•](https://cos.jiahongw.com/uPic/image-20211030215411392.png)

è¿™å…¶å®å¹¶ä¸èƒ½è¡¨ç¤ºç±»å†…éƒ¨çš„å…·ä½“ä¿¡æ¯ï¼Œå®ƒçš„ä¿¡æ¯é‡å¹¶ä¸å¤§ã€‚toString çº¦å®šæ¥ç€æè¿°ï¼Œã€Œå»ºè®®æ‰€æœ‰å­ç±»è¦†ç›–æ­¤æ–¹æ³•ã€‚ã€

> **æä¾›ä¸€ä¸ªå¥½çš„ toString å®ç°ï¼ˆèƒ½ï¼‰ä½¿ç±»æ›´æ˜“äºä½¿ç”¨ï¼Œä½¿ç”¨è¯¥ç±»çš„ç³»ç»Ÿï¼ˆä¹Ÿï¼‰æ›´æ˜“äºè°ƒè¯•ã€‚**

**å½“å®é™…ä½¿ç”¨æ—¶ï¼ŒtoString æ–¹æ³•åº”è¯¥è¿”å›å¯¹è±¡ä¸­åŒ…å«çš„æ‰€æœ‰æœ‰è¶£ä¿¡æ¯ï¼Œ** å¦‚ç”µè¯å·ç ç¤ºä¾‹æ‰€ç¤ºã€‚å¦‚æœå¯¹è±¡å¾ˆå¤§ï¼Œæˆ–è€…åŒ…å«ä¸åˆ©äºå­—ç¬¦ä¸²è¡¨ç¤ºçš„çŠ¶æ€ï¼Œé‚£ä¹ˆè¿™ç§æ–¹æ³•æ˜¯ä¸åˆ‡å®é™…çš„ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒtoString åº”è¯¥è¿”å›ä¸€ä¸ªæ‘˜è¦ï¼Œä¾‹å¦‚æ›¼å“ˆé¡¿ä½å®…ç”µè¯ç›®å½•ï¼ˆ1487536 å·æ¸…å•ï¼‰æˆ– Thread[main,5,main]ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œå­—ç¬¦ä¸²åº”è¯¥æ˜¯ä¸è¨€è‡ªæ˜çš„ã€‚ï¼ˆçº¿ç¨‹ç¤ºä¾‹æœªèƒ½é€šè¿‡æ­¤æµ‹è¯•ã€‚ï¼‰å¦‚æœæ²¡æœ‰åœ¨å­—ç¬¦ä¸²è¡¨ç¤ºä¸­åŒ…å«æ‰€æœ‰å¯¹è±¡çš„æœ‰è¶£ä¿¡æ¯ï¼Œé‚£ä¹ˆä¸€ä¸ªç‰¹åˆ«æ¼äººçš„æƒ©ç½šå°±æ˜¯æµ‹è¯•å¤±è´¥æŠ¥å‘Šï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```java
Assertion failure: expected {abc, 123}, but was {abc, 123}.
```

å‡å¦‚åœ¨toStringå‡½æ•°ä¸­æŒ‡å®šäº†è¿”å›çš„æ ¼å¼ï¼Œå°±åº”è¯¥ç²¾ç¡®åœ°æŒ‡å®šæ ¼å¼ï¼Œå¹¶ä¸”æ·»åŠ ä¸Šè¯¦ç»†çš„æ³¨é‡Šã€‚

> å¦å¤–ï¼Œä½¿ç”¨ç¼–è¯‘å™¨ï¼ˆä¾‹å¦‚IDEAï¼‰ç”Ÿæˆçš„toStringæ–¹æ³•ä¼šæ¯”æˆ‘ä»¬æ‰‹å†™æ›´åŠ å¯é ã€‚

åœ¨ä½ ç¼–å†™çš„æ¯ä¸ªå®ä¾‹åŒ–ç±»ä¸­è¦†ç›–å¯¹è±¡çš„ toString å®ç°ï¼Œé™¤éè¶…ç±»å·²ç»è¿™æ ·åšäº†ã€‚å®ƒä½¿ç±»æ›´æ˜“äºä½¿ç”¨ï¼Œå¹¶æœ‰åŠ©äºè°ƒè¯•ã€‚toString æ–¹æ³•åº”è¯¥ä»¥ç¾è§‚çš„æ ¼å¼è¿”å›å¯¹è±¡çš„ç®€æ˜ã€æœ‰ç”¨çš„æè¿°ã€‚

---

***Reference***:

1. [Item 12: Always override toStringï¼ˆå§‹ç»ˆè¦†ç›– toString æ–¹æ³•ï¼‰](https://github.com/clxering/Effective-Java-3rd-edition-Chinese-English-bilingual/blob/dev/Chapter-3/Chapter-3-Item-12-Always-override-toString.md)
