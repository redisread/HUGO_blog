---
title: "ä½¿ç”¨äº‘ç›‘æ§ç®¡ç†k8s-äº¬ä¸œäº‘å®è·µ"
date: 2020-04-27T17:11:37+08:00
description:
draft: false
hideToc: false
enableToc: true
enableTocContent: false
#tocPosition: inner
author: Victor
authorEmoji: ğŸ‘»
image:  https://gitee.com/wujiahong1998/MyBed/raw/master/kunpeng/äº¬ä¸œäº‘.png
libraries:
- katex
- mathjax
tags:
-  äº‘è®¡ç®—
-  äº¬ä¸œäº‘
series:
-
categories:
-
---





## æ“ä½œæµç¨‹

![æµç¨‹](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426111623.png)

## ç”¨åˆ°çš„äº‘äº§å“åŠæœåŠ¡

|          |                |                                                      |                                                              |
| -------- | -------------- | ---------------------------------------------------- | ------------------------------------------------------------ |
| **åºå·** | **äº‘äº§å“**     | **åŠŸèƒ½åŠç”¨é€”**                                       | **å¤‡æ³¨**                                                     |
| 1        | å®¹å™¨é•œåƒä»“åº“   | ç”¨äºå­˜æ”¾ç¤ºä¾‹demoé•œåƒ                                 |                                                              |
| 2        | äº‘ç¼–è¯‘         | ç¼–è¯‘å’Œæ‰“åŒ…å®ä¾‹demoä»£ç ï¼ŒåŒæ—¶å°†é•œåƒæ¨é€è‡³å®¹å™¨é•œåƒä»“åº“ |                                                              |
| 3        | ç§æœ‰ç½‘ç»œ       | åˆ›å»ºç”¨äºKubernetesé›†ç¾¤ï¼Œå·¥ä½œèŠ‚ç‚¹æ‰€éœ€çš„VPC            |                                                              |
| 4        | Access Key     | æˆæƒK8Sé›†ç¾¤è®¿é—®äº¬ä¸œæ™ºè”äº‘å„ä¸ªæœåŠ¡APIçš„æˆæƒå‡­è¯ã€‚     | ä¾‹å¦‚ï¼šé›†ç¾¤å‘äº¬ä¸œæ™ºè”äº‘ç›‘æ§ä¸­å¿ƒï¼Œæ¨é€ä¸šåŠ¡ç›‘æ§æ•°æ®å°±éœ€è¦ç”¨åˆ°AK/SKã€‚ |
| 5        | Kubernetesé›†ç¾¤ | åˆ›å»ºK8Sé›†ç¾¤ï¼Œéƒ¨ç½²åº”ç”¨æœåŠ¡                            | è§„æ ¼ï¼šé€šç”¨å‹1æ ¸4GBï¼Œå…¬ç½‘IP 5Mpbs                             |
| 6        | äº‘ç›‘æ§         | æŸ¥è¯¢ä¸šåŠ¡ç›‘æ§æ•°æ®ï¼Œé…ç½®å‘Šè­¦æœåŠ¡ã€‚                     |                                                              |

## å®æ“

### ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡Dockeré•œåƒ

#### åˆ›å»ºå®¹å™¨é•œåƒä»“åº“

**æ–°å»ºæ³¨å†Œè¡¨**

1. ç™»å½•äº¬ä¸œæ™ºè”äº‘æ§åˆ¶å°ï¼Œé€‰æ‹©äº‘æœåŠ¡->å¼¹æ€§è®¡ç®—->å®¹å™¨é•œåƒä»“åº“ã€‚

   ![é€‰æ‹©å®¹å™¨é•œåƒä»“åº“æœåŠ¡](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426111815.png)

2. è¿›å…¥æ³¨å†Œè¡¨é¡µé¢ï¼Œé€‰æ‹©â€œååŒ—-åŒ—äº¬â€åœ°åŸŸï¼Œç‚¹å‡»â€œæ–°å»ºâ€æŒ‰é’®ï¼Œè¿›å…¥æ–°å»ºæ³¨å†Œè¡¨é¡µé¢ã€‚

   ![æ–°å»ºæ³¨å†Œè¡¨](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426111942.png)

3. åœ¨æ–°å»ºæ³¨å†Œè¡¨é¡µé¢ï¼Œè®¾ç½®åç§°ï¼Œå‹¾é€‰åŒæ„æœåŠ¡æ¡æ¬¾ã€‚ç‚¹å‡»â€œä¿å­˜â€æŒ‰é’®å³å¯ã€‚

   ![è¾“å…¥åˆ›å»ºä¿¡æ¯](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426112306.png)

**æ–°å»ºé•œåƒä»“åº“**

1. åˆ‡æ¢è‡³â€œé•œåƒä»“åº“â€åˆ—è¡¨é¡µé¢ï¼Œé€‰æ‹©åœ°åŸŸâ€œååŒ—-åŒ—äº¬â€ï¼Œç‚¹å‡»â€œåˆ›å»ºâ€æŒ‰é’®ã€‚

   ![è¿›å…¥é•œåƒä»“åº“](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426112445.png)

2. åœ¨æ–°å»ºé•œåƒä»“åº“é¡µé¢ï¼Œ é€‰æ‹©åˆšæ–°å»ºçš„æ³¨å†Œè¡¨ï¼Œé…ç½®æ³¨å†Œè¡¨åç§°ä¿¡æ¯

   ![é…ç½®é•œåƒä»“åº“æ³¨å†Œè¡¨](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426112720.png)

3. åˆ›å»ºæˆåŠŸåï¼Œåœ¨é•œåƒä»“åº“é‡Œåˆ—è¡¨å¯ä»¥çœ‹åˆ°åˆ°ä»“åº“åç§°ã€‚ä»¥åŠé•œåƒä»“åº“çš„URI

   ![æŸ¥çœ‹é•œåƒä»“åº“](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426112924.png)

#### ç¼–è¯‘æ„å»ºDockeré•œåƒ

**æ–°å»ºç¼–è¯‘ä»»åŠ¡**

1. é€‰æ‹©äº‘æœåŠ¡->å¼€å‘è€…å·¥å…·->äº‘ç¼–è¯‘ï¼Œè¿›å…¥äº‘ç¼–è¯‘æœåŠ¡é¡µé¢ã€‚

   ![è¿›å…¥äº‘ç¼–è¯‘æœåŠ¡](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426113052.png)

2. åœ¨ä»»åŠ¡åˆ—è¡¨é¡µé¢ï¼Œé€‰æ‹©ååŒ—-åŒ—äº¬åœ°åŸŸï¼Œ ç‚¹å‡»â€œåˆ›å»ºâ€æŒ‰é’®ï¼Œé€‰æ‹©ä¸­â€œåˆ›å»ºä»»åŠ¡â€

   ![åˆ›å»ºä»»åŠ¡](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426113145.png)

3. åœ¨åˆ›å»ºä»»åŠ¡é¡µé¢åšå¦‚ä¸‹é…ç½®ï¼š

   ä»»åŠ¡é…ç½®ä¸æºç é…ç½®å¦‚ä¸‹ï¼Œå…¶ä¸­ä»£ç åº“åœ°å€ä¸º:[https://code.jdcloud.com/jdcloud-monitor/prometheus-demo.git](https://code.jdcloud.com/jdcloud-monitor/prometheus-demo.git)

   ![ä»»åŠ¡é…ç½®ä¸æºç é…ç½®](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426113509.png)

   æ„å»ºå­˜æ”¾çš„é…ç½®å¦‚ä¸‹ï¼š

   ![æ„å»ºå­˜æ”¾é…ç½®](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426113710.png)

   å…¶ä»–é€‰é¡¹ä¿æŒé»˜è®¤é…ç½®

4. ç‚¹å‡»â€œä¿å­˜â€æŒ‰é’®ï¼Œå®Œæˆä»»åŠ¡çš„åˆ›å»ºã€‚

**æ„å»ºä»»åŠ¡**

1. é€‰ä¸­åˆšåˆ›å»ºçš„ä»»åŠ¡ï¼Œç‚¹å‡»æ“ä½œäº†ä¸‹çš„æ‰§è¡Œæ„å»ºæŒ‰é’®ã€‚

   ![è¿›å…¥æ‰§è¡Œæ„å»º](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426114034.png)

2. åœ¨å¼¹å‡ºçš„æ„å»ºé¡µé¢ï¼Œé…ç½®å¦‚ä¸‹ä¿¡æ¯,å…¶ä¸­CommitIDä¸ºece523fc68cce1cd3d48b38fc07252f81ba2c44c

   ![](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426114138.png)

3. ç‚¹å‡»â€œç¡®å®šâ€æŒ‰é’®ï¼Œæ‰§è¡Œç¼–è¯‘æ„å»ºæ“ä½œã€‚å½“äº§ç‰©å½’æ¡£çŠ¶æ€å˜ä¸ºå®ŒæˆçŠ¶æ€æ—¶ï¼Œå®Œæˆæ„å»ºã€‚

   ![å®Œæˆæ„å»º](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426114242.png)

### ç¬¬äºŒæ­¥ï¼šç”¨K8Séƒ¨ç½²åº”ç”¨æœåŠ¡

#### **å‰æå‡†å¤‡**

åˆ›å»ºkubernetesè¿›ç¾¤æ—¶ï¼Œéœ€è¦ç”¨åˆ°**VPC** å’Œ **å¯†é’¥ä¿¡æ¯**ï¼Œ åªéœ€åˆ›å»ºVPCå³å¯ï¼Œæ— éœ€åˆ›å»ºå­ç½‘ï¼Œå·¥ä½œèŠ‚ç‚¹ç»„ç”¨åˆ°çš„å­ç½‘ä¼šè‡ªå·±åˆ›å»ºã€‚

**åˆ›å»ºVPC**

1. é€‰æ‹©äº‘æœåŠ¡->ç½‘ç»œ->ç§æœ‰ç½‘ç»œï¼Œè¿›å…¥ç§æœ‰ç½‘ç»œVPCåˆ—è¡¨é¡µé¢ã€‚

   ![è¿›å…¥ç§æœ‰ç½‘ç»œæœåŠ¡](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426114433.png)

2. åœ¨ç§æœ‰ç½‘ç»œé¡µé¢ï¼Œé€‰ä¸­ååŒ—-åŒ—äº¬åœ°åŸŸï¼Œç‚¹å‡»â€œåˆ›å»ºâ€æŒ‰é’®ã€‚

   ![è¿›å…¥åˆ›å»º](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426114540.png)

3. é…ç½®ç½‘ç»œåç§°ï¼ŒIPv4CIRDé€‰æ‹© 192.168.0.0/16ã€‚

   ![æ–°å»ºvpc](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426114730.png)

**åˆ›å»ºAK/SKå¯†é’¥**

1. ç‚¹å‡»é¡¶éƒ¨å¯¼èˆªçš„è´¦æˆ·åç§°ï¼Œåœ¨å¼¹å‡ºçš„ä¸‹æ‹‰æ¡†ä¸­ç‚¹å‡»â€œAccess Keyç®¡ç†â€

   ![è¿›å…¥Access Keyç®¡ç†](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/image-20200426115229840.png)

2. åœ¨è¿›å…¥çš„Access Keyç®¡ç†é¡µé¢ä¸­ï¼Œç‚¹å‡»â€œåˆ›å»ºAccess Keyâ€ï¼Œä¼šæç¤ºè¾“å…¥çŸ­ä¿¡éªŒè¯ç ï¼Œè¾“å…¥å®Œå°±å¯ä»¥åˆ›å»ºäº†

   ![åˆ›å»º](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/image-20200426115504785.png)

   

#### åˆ›å»ºKubernetesé›†ç¾¤

1. é€‰æ‹©äº‘æœåŠ¡->å¼¹æ€§è®¡ç®—-> Kubernetesé›†ç¾¤ï¼Œè¿›å…¥é›†ç¾¤åˆ—è¡¨é¡µé¢ã€‚

   ![è¿›å…¥Kubernetesé›†ç¾¤æœåŠ¡](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426115609.png)

2. é€‰æ‹©â€œååŒ—-åŒ—äº¬â€åœ°åŸŸï¼Œç‚¹å‡»â€œåˆ›å»ºâ€æŒ‰é’®ï¼Œåœ¨æ–°å»ºKubernetesé›†ç¾¤ï¼Œè¿›è¡Œå¦‚ä¸‹é…ç½®

   é›†ç¾¤ä¿¡æ¯é…ç½®

   ![](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426121325.png)

   ç½‘ç»œä¸å·¥ä½œèŠ‚ç‚¹é…ç½®

   ![](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426121448.png)

   å¯†ç é…ç½®

   ![](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426121506.png)

#### éƒ¨ç½²æœåŠ¡

**æ³¨å†Œé•œåƒä»“åº“**

> æœ¬æ“ä½œæ˜¯å°†å®¹å™¨é•œåƒä»“åº“çš„æ³¨å†Œè¡¨åœ¨K8SæœåŠ¡ä¸­è¿›è¡Œæ³¨å†Œï¼Œä¾¿äºåç»­podä¸Šéƒ¨ç½²åº”ç”¨æœåŠ¡ã€‚

1. é€‰æ‹©äº‘æœåŠ¡->å¼¹æ€§è®¡ç®—-> äº‘ä¸»æœºï¼Œè¿›å…¥äº‘ä¸»æœºåˆ—è¡¨é¡µé¢ã€‚åœ¨äº‘ä¸»æœºåˆ—è¡¨å¯ä»¥çœ‹åˆ°æ–°åˆ›å»ºäº†2å°äº‘ä¸»æœºå®ä¾‹ã€‚

   ![æŸ¥çœ‹äº‘ä¸»æœº](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426122044.png)

2. æ‰¾åˆ°k8s-***-nat-vm-***å‘½åçš„äº‘ä¸»æœºï¼Œå…¶ä¸ºK8Sé›†ç¾¤çš„ç®¡ç†èŠ‚ç‚¹äº‘ä¸»æœºï¼Œ å¯ä»¥å…¬ç½‘SSHè¿œç¨‹ç™»å½•è¿›å»ã€‚

   ![sshè¿œç¨‹ç™»é™†](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426122844.png)

3. è·å–é›†ç¾¤å‡­æ®ï¼Œ é€‰æ‹©äº‘æœåŠ¡->å¼¹æ€§è®¡ç®—-> Kubernetesé›†ç¾¤, è¿›å…¥é›†ç¾¤åˆ—è¡¨é¡µé¢ã€‚é€‰ä¸­åˆšåˆ›å»ºçš„é›†ç¾¤ä¿¡æ¯ï¼Œç‚¹å‡»åç§°ï¼Œè¿›å…¥è¯¦æƒ…é¡µé¢ã€‚åˆ‡æ¢è‡³kubectlå®¢æˆ·ç«¯é…ç½®é¡µã€‚

   ![æ‰¾åˆ°kubectlé…ç½®](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426122955.png)

4. ç®¡ç†èŠ‚ç‚¹ç™»å½•æˆåŠŸåï¼Œssh ç™»å½•è‡³ k8s-node-*** èŠ‚ç‚¹çš„äº‘ä¸»æœºï¼ˆ**å‘½ä»¤ï¼š ssh root@your_node_ip, éœ€è¦å°† your_node_ip æ›¿æ¢ä¸ºä½ çš„nodeäº‘ä¸»æœºçš„å†…ç½‘ipã€‚ç‚¹å‡»å›è½¦åè¾“å…¥å¯†ç å³å¯** ï¼‰ã€‚

   ![ç™»é™†èŠ‚ç‚¹](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426130822.png)

5. é…ç½®kubectlå®¢æˆ·ç«¯

   æ‰§è¡Œå¦‚ä¸‹çš„å‘½ä»¤

   ```bash
   mkdir -p $HOME/.kube  
   
   cd $HOME/.kube        
   
   vi config 
   ```

   å°†kubectlå®¢æˆ·ç«¯é…ç½®çš„å‡­æ®ï¼Œæ‹·è´è‡³configä¸­ï¼Œä¿å­˜åé€€å‡ºã€‚æ‰§è¡Œ sudo chown $(id -u):$(id -g) $HOME/.kube/config å‘½ä»¤ã€‚

   ![é…ç½®](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426123202.png)

6. æ‰§è¡Œä»¥ä¸‹æ“ä½œå‘½åï¼Œæ³¨å†Œé•œåƒä»“åº“ã€‚

   ```
   kubectl create secret -n default docker-registry my-secret --docker-server=k8s-monitor-demo01-cn-north-1.jcr.service.jdcloud.com --docker-username=jdcloud --docker-password=Eoj3Ja4mSeXasAbX --docker-email=1427298682@qq.com
   ```

   ![ç›¸å…³ä¿¡æ¯è·å–](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426131039.png)

   ![ç›¸å…³ä¿¡æ¯](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426131158.png)

   è¾“å…¥æŒ‡ä»¤å¦‚ä¸‹ï¼š

   ![è¾“å…¥æŒ‡ä»¤](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426131327.png)

**åˆ›å»ºPod**

1. åœ¨kubernetesé›†ç¾¤é¡µé¢ï¼Œèœå•åˆ‡æ¢è‡³Workloads->Podï¼Œè¿›å…¥Podåˆ—è¡¨é¡µé¢ã€‚ç‚¹å‡»åˆ›å»ºpod

   ![åˆ›å»ºpod](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426131504.png)

2. é…ç½®å¦‚ä¸‹ä¿¡æ¯

   a.   é›†ç¾¤ï¼šè¯·ç¡®è®¤åˆšåˆ›å»ºçš„é›†ç¾¤ï¼Œä¾‹å¦‚ï¼šmonitor-demo

   b.  Yaml æ–‡ä»¶ï¼šå°†å¦‚ä¸‹å†…å®¹æ‹·è´è‡³é»‘è‰²è¾“å…¥æ¡†ï¼Œæ³¨æ„é»„è‰²æ ‡æ³¨å†…å®¹ã€‚

   ```yml
   apiVersion: v1
   
   kind: Pod
   
   metadata:
   
     name: prometheus-demo
   
     labels:
   
       app: prometheus-demo
   
   spec:
   
     imagePullSecrets:
   
       - name: my-secret
   
     containers:
   
       - name: flaskapp-demo
   
         image: k8s-monitor-demo01-cn-north-1.jcr.service.jdcloud.com/k8s-monitor-demo-repo:job-ANbzZdjyyYKEBRX-1587872493
   
         ports:
   
           - containerPort: 5000
   
           - containerPort: 7777
   ```

   > æ³¨æ„ï¼š
   >
   > 1. nameï¼šä¸ºæ‚¨æ³¨å†Œé•œåƒä»“åº“åˆ›å»ºçš„secretåç§°ï¼Œç¤ºä¾‹ç”¨çš„my-secretã€‚
   >
   > 2. image æ ‡æ³¨ä¸ºé»„è‰²çš„å†…å®¹åŒ…å«2ä¸ªéƒ¨åˆ†ï¼ŒURI:é•œåƒç‰ˆæœ¬ï¼Œè¯·ä¸€å®šè¦æ›¿æ¢ä¸ºè‡ªå·±é•œåƒä»“åº“çš„å†…å®¹ã€‚å¯é€šè¿‡å¦‚ä¸‹æˆªå›¾ä½ç½®è·å–ã€‚
   >
   >    ![](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426131730.png)
   >
   >    ![](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426132029.png)

3. åˆ›å»ºPod![ç‚¹å‡»åˆ›å»º](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426132152.png)

4. å¯ä»¥çœ‹åˆ°åˆ›å»ºçš„podï¼Œè¿›å…¥podè¯¦æƒ…ï¼Œåˆ‡æ¢è‡³Containerå¯ä»¥æŸ¥çœ‹å…¶è¿è¡ŒçŠ¶æ€ï¼Œç­‰å¾…3åˆ†é’Ÿå·¦å³ï¼Œå…¶çŠ¶æ€å˜ä¸ºè¿è¡Œï¼ŒæœåŠ¡éƒ¨ç½²æˆåŠŸã€‚

   ![å®¹å™¨è¿è¡Œ](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426132340.png)

#### é…ç½®è®¿é—®ç­–ç•¥

**åˆ›å»ºService**

>
> æ³¨ï¼šåŸºäºK8Séƒ¨ç½²çš„åº”ç”¨æœåŠ¡ï¼Œè‹¥éœ€è¦å¤–ç½‘è®¿é—®ï¼Œåˆ™éœ€è¦åˆ›å»ºä¸€ä¸ªè´Ÿè½½å‡è¡¡ï¼ŒåŒæ—¶ç»‘å®šå…¬ç½‘IPï¼Œä»¥ä¸‹æ­¥éª¤å°±æ˜¯é€šè¿‡åˆ›å»ºServiceä¸ºæœåŠ¡é…ç½®ä¸€ä¸ªè´Ÿè½½å‡è¡¡ã€‚

1. åˆ‡æ¢è‡³serviceåˆ—è¡¨é¡µé¢ï¼Œé€‰æ‹©â€œååŒ—-åŒ—äº¬â€ï¼Œç‚¹å‡»â€œåˆ›å»ºâ€æŒ‰é’®ã€‚

   ![è¿›å…¥serviceæœåŠ¡](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426132502.png)

2. è¿›å…¥åˆ›å»ºServiceé¡µé¢

   é…ç½®å¦‚ä¸‹ä¿¡æ¯

   a.     é›†ç¾¤ï¼šç¡®è®¤é€‰ä¸­çš„é›†ç¾¤ã€‚

   b.    Yamlï¼šå°†å¦‚ä¸‹ä¿¡æ¯æ‹·è´è‡³è¾“å…¥æ¡†ä¸­ã€‚

   ```yml
   kind: Service
   
   apiVersion: v1
   
   metadata:
   
     name: prometheus-demo
   
     annotations:
   
       prometheus.io/path: /metrics
   
       prometheus.io/port: '7777'
   
       prometheus.io/scrape: 'true'
   
   spec:
   
     ports:
   
       - protocol: TCP
   
         port: 5000
   
         targetPort: 5000
   
     selector:
   
       app: prometheus-demo
   
     type: LoadBalancer
   ```

3. ç‚¹å‡»â€œç¡®å®šâ€æŒ‰é’®ï¼Œå®Œæˆserviceåˆ›å»ºã€‚ç‚¹å‡»åç§°ï¼Œè¿›å…¥è¯¦æƒ…é¡µé¢ï¼Œå¯æŸ¥çœ‹åˆ°podçŠ¶æ€ä¸ºrunningã€‚

   ![æŸ¥è¯¢PodçŠ¶æ€](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426132751.png)

4. ç‚¹å‡»é¡¶éƒ¨å¯¼èˆªäº‘æœåŠ¡->ç½‘ç»œ->è´Ÿè½½å‡è¡¡ï¼Œè¿›å…¥åº”ç”¨è´Ÿè½½å‡è¡¡é¡µé¢ã€‚å¯ä»¥çœ‹åˆ°åˆšæ–°å»ºçš„çš„LoadBalancerã€‚

   ![è¿›å…¥è´Ÿè½½å‡è¡¡æœåŠ¡](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426132919.png)

   ![æŸ¥è¯¢æ–°å»ºçš„è´Ÿè½½å‡è¡¡æœåŠ¡](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426133006.png)

**è®¿é—®æœåŠ¡**

1. åœ¨æ–°å»ºçš„è´Ÿè½½å‡è¡¡æœåŠ¡é¡µé¢ï¼Œè·å–åˆ°å…¬ç½‘IPï¼Œ åœ¨æµè§ˆå™¨ç«¯è¾“å…¥http://å…¬ç½‘IP:5000ï¼Œå¯çœ‹åˆ°å¦‚ä¸‹ç•Œé¢ã€‚

   ![è®¿é—®](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426133131.png)

### ç¬¬ä¸‰æ­¥ï¼šä¸šåŠ¡ç›‘æ§å‘Šè­¦



#### æŸ¥çœ‹ç›‘æ§å›¾

1. é€‰æ‹©äº‘æœåŠ¡->ç›‘æ§ä¸è¿ç»´-> äº‘ç›‘æ§ï¼Œè¿›å…¥äº‘ç›‘æ§æ§åˆ¶å°ã€‚

   ![è¿›å…¥äº‘ç›‘æ§æœåŠ¡](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426135442.png)

2.  åœ¨å·¦ä¾§èœå•é€‰ä¸­â€œè‡ªå®šä¹‰ç›‘æ§â€ï¼Œè¿›å…¥è‡ªå®šä¹‰ç›‘æ§é¡µé¢ã€‚

   ![è¿›å…¥è‡ªå®šä¹‰ç›‘æ§](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426135534.png)

3. è¾“å…¥ä»¥ä¸‹æŸ¥è¯¢æ¡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°Demoç¤ºä¾‹å†…ç½®é‡‡é›†çš„ä¸€äº›ä¸šåŠ¡æ•°æ®ã€‚æŸ¥è¯¢æ¡ä»¶å¦‚ä¸‹ï¼š

   ![ç›‘æ§](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426140111.png)



#### é…ç½®å‘Šè­¦

1. åœ¨ä¸Šè¿°æŸ¥çœ‹çš„çš„ç›‘æ§å›¾ä¸­ï¼Œç‚¹å‡»â€œé…ç½®æŠ¥è­¦â€æŒ‰é’®ï¼Œè¿›å…¥è®¾ç½®å‘Šè­¦é¡µé¢ï¼Œè¿›è¡Œå¦‚ä¸‹é…ç½®ï¼š

   **åŸºæœ¬ä¿¡æ¯é…ç½®**

   ![åŸºæœ¬ä¿¡æ¯](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/image-20200426221118662.png)

   **è§¦å‘æ¡ä»¶é…ç½®**

   ![è§¦å‘æ¡ä»¶](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426221159.png)

   **é€šçŸ¥ç­–ç•¥é…ç½®**

   ![é€šçŸ¥ç­–ç•¥](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426221236.png)

ä¸Šé¢é…ç½®å®Œä¹‹åå½“è®¿é—®é¡µé¢æ¬¡æ•°è¶…è¿‡10æ­¤çš„æ—¶å€™å°±ä¼šæœ‰é‚®ä»¶å’ŒçŸ­ä¿¡çš„é€šçŸ¥

**é‚®ä»¶**

![é‚®ä»¶](https://gitee.com/wujiahong1998/MyBed/raw/master/jd/20200426221440.png)

**çŸ­ä¿¡**



<img src="https://gitee.com/wujiahong1998/MyBed/raw/master/jd/cad5d91da9cd657521f816e0d95f118.jpg" style="zoom: 33%;" />