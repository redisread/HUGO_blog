---
title: é€‚é…å™¨æ¨¡å¼
date: 2022-01-15T18:52:34+08:00
description: é€‚é…å™¨ä½¿å¾—æ–°çš„è°ƒç”¨å¯ä»¥é€‚é…è€çš„æ¥å£è€Œä¸éœ€è¦ä¿®æ”¹æ—§çš„ä»£ç ã€‚è¾¾åˆ°äº†å¯¹æ‹“å±•å¼€å‘ï¼Œå¯¹ä¿®æ”¹å…³é—­çš„è®¾è®¡åŸåˆ™ã€‚
draft: false
hideToc: false
enableToc: true
enableTocContent: false
tocPosition: outer
author: Victor
authorEmoji: ğŸª¶
image: https://cos.jiahongw.com/uPic/5087984.png
plantuml: true
libraries:
- katex
- mathjax
tags:
- è®¾è®¡æ¨¡å¼
- é€‚é…å™¨æ¨¡å¼
series:
- è®¾è®¡æ¨¡å¼
categories:
-
---



<!--Adapter Design Pattern-->

### å®šä¹‰

é€‚é…å™¨å°†ä¸€ä¸ªç±»çš„æ¥å£ï¼Œè½¬æ¢æˆå®¢æˆ·ç«¯æœŸæœ›çš„å¦ä¸€ä¸ªæ¥å£ã€‚é€‚é…å™¨è®©åŸæœ¬ä¸å…¼å®¹çš„ç±»è¾¾åˆ°å…¼å®¹ã€‚

ï¼ˆå¯ä»¥è®©å®¢æˆ·ä»å®ç°çš„æ¥å£è§£è€¦ï¼‰

> é€‚é…å™¨æ¨¡å¼ä¸‹å¿…é¡»æœ‰ä¸€ä¸ªæ¥å£çš„â€è½¬æ¢â€œè¿‡ç¨‹ã€‚

> å½¢è±¡çš„æ¯”å–»ï¼šUSBè½¬æ¥å¤´å°±æ˜¯ä¸€ä¸ªé€‚é…å™¨ï¼



### æ¶æ„

```plantuml
@startuml
' é€‚é…å™¨æ¨¡å¼

class client

interface Targert {
  + request()
}

note top of Targert : ç›®æ ‡æ¥å£

class Adaptor implements Targert {
    + request()
}

note bottom of Adaptor : é€‚é…å™¨å®ç°ç›®æ ‡æ¥å£

class Adaptee {
  + specificRequest()

}

Adaptor -> Adaptee : å¹¶ä¸”åŒ…å«è¢«é€‚é…çš„æ¥å£å¯¹è±¡

client -> Targert


@enduml
```



> ä¸Šé¢çš„æ˜¯å¯¹è±¡é€‚é…å™¨çš„æ¶æ„ï¼Œåœ¨æ”¯æŒå¤šé‡ç»§æ‰¿çš„è¯­è¨€ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ç±»é€‚é…å™¨ï¼š
>
> ```plantuml
> @startuml
> ' é€‚é…å™¨æ¨¡å¼
> 
> class client
> 
> interface Targert {
>   + request()
> }
> 
> note top of Targert : ç›®æ ‡æ¥å£
> 
> class Adaptor implements Targert,Adaptee {
>     + request()
> }
> 
> class Adaptee {
>   + specificRequest()
> 
> }
> client -> Targert
> 
> 
> @enduml
> ```
>
> 





### ä½¿ç”¨åœºæ™¯

ä¸€èˆ¬æ¥è¯´ï¼Œé€‚é…å™¨æ¨¡å¼å¯ä»¥çœ‹ä½œæ˜¯ä¸€å®—â€œè¡¥å¿æ¨¡å¼â€ï¼Œç”¨æ¥è¡¥æ•‘è®¾è®¡ä¸Šçš„ç¼ºé™·ï¼Œä¹Ÿæ˜¯ä¸€ç§æ— å¥ˆä¹‹ä¸¾ã€‚ä¸€èˆ¬ä¹Ÿä¸ä¼šä¼˜å…ˆæ¨èä½¿ç”¨è¿™ç§æ¨¡å¼ã€‚

#### ä¸»è¦åœºæ™¯

**1 å°è£…æœ‰ç¼ºé™·çš„æ¥å£è®¾è®¡**

ä¾‹å¦‚å¤–éƒ¨å¼•å…¥çš„æ¥å£éƒ½æ˜¯é™æ€æ–¹æ³•ï¼Œä¼šå½±å“ä»£ç çš„å¯æµ‹è¯•æ€§ã€‚æ­¤æ—¶ä½¿ç”¨é€‚é…å™¨è¿›è¡Œé€‚é…æ¥å£ï¼Œå°†é™æ€æ–¹æ³•éƒ½â€œå°è£…â€œèµ·æ¥ï¼Œè¿™æ ·å°±å¯ä»¥è¿›è¡Œæµ‹è¯•äº†ã€‚



**2 æ›¿æ¢ä¾èµ–çš„å¤–éƒ¨ç³»ç»Ÿ**

å½“éœ€è¦å°†å¤–éƒ¨ä¾èµ–çš„ä¸€ä¸ªç³»ç»Ÿæ›¿æ¢æˆå¦ä¸€ä¸ªç³»ç»Ÿçš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯ä¸€äº›ç³»ç»Ÿè¿ç§»æˆ–è€…æ¥å£åˆ‡æ¢çš„åœºæ™¯ï¼Œä½¿ç”¨é€‚é…å™¨æ¨¡å¼å¯ä»¥å‡å°‘å¯¹ä»£ç çš„æ”¹åŠ¨ã€‚

```plantuml
@startuml
' é€‚é…å™¨æ¨¡å¼

interface IA {
  + fa()
}

note top of IA : ç³»ç»ŸA

interface IB {
  + fb()
}

note top of IB : ç³»ç»ŸB


class Client


class BAdaptor implements IA {
  IB b
  + fa()
}

note left of BAdaptor : å®é™…faå‡½æ•°è°ƒç”¨fbå‡½æ•°

BAdaptor -> IB

Client -> IA

@enduml
```



**3 å…¼å®¹è€ç‰ˆæœ¬çš„æ¥å£**

åœ¨è¿›è¡Œä¸€äº›ç‰ˆæœ¬å‡çº§çš„æ—¶å€™ï¼Œå¯¹äºä¸€äº›åºŸå¼ƒçš„æ¥å£ï¼Œæˆ‘ä»¬ä¸ä¼šç›´æ¥åˆ é™¤ï¼Œè€Œæ˜¯æš‚æ—¶ä¿ç•™ï¼Œå¹¶ä¸”æ ‡æ³¨ä¸ºdeprecateï¼Œå¹¶ä¸”å°†å†…éƒ¨å®ç°é€»è¾‘å§”æ‰˜ä¸ºæ–°çš„å®ç°é€»è¾‘ã€‚

ä¾‹å¦‚JDKä¸­åŒ…å«ä¸€ä¸ªéå†é›†åˆå®¹å™¨çš„ç±»Enumerationï¼ŒJDK2.0å¯¹è¿™ä¸ªç±»è¿›è¡Œäº†é‡æ„ï¼Œå°†å®ƒæ”¹åä¸ºIteratorç±»ï¼Œå¹¶ä¸”å¯¹å®ƒçš„ä»£ç å®ç°åšäº†ä¼˜åŒ–ã€‚ä½†æ˜¯å¦‚æœå°†Enumerationç›´æ¥ä»JDK2.0åˆ é™¤ï¼Œé‚£ä¹ˆé‚£äº›ä»JDK1.0å‡çº§åˆ°JDK2.0çš„é¡¹ç›®ï¼Œå°±ä¼šç¼–è¯‘æŠ¥é”™ã€‚ä½†æ˜¯ä¿®æ”¹æ•£è½åœ¨å„å¤„çš„Enumerationè°ƒç”¨åˆå¤šåˆæ‚ï¼Œå¯¼è‡´å‡çº§å›°éš¾ã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œå¯ä»¥æš‚æ—¶ä¿ç•™Enumerationç±»ï¼Œå¹¶ä¸”å°†å…¶å†…éƒ¨å®ç°æ›¿æ¢ä¸ºIteratorçš„å®ç°ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š

```java
public class Collections {
    public static Emueration emumeration(final Collection c) {
      return new Enumeration() {
         Iterator i = c.iterator();
        
         public boolean hasMoreElments() {
            return i.hashNext();
         }
        
        public Object nextElement() {
          	return i.next():
        }
       }
    }
}
```



#### é€‚é…å™¨æ¨¡å¼åœ¨Javaæ—¥å¿—ä¸­çš„åº”ç”¨

Slf4jè¿™ä¸ªæ—¥å¿—æ¡†æ¶ç›¸å½“äºJDBCè§„èŒƒï¼Œæä¾›äº†ä¸€å¥—æ‰“å°æ—¥å¿—çš„ç»Ÿä¸€æ¥å£è§„èŒƒã€‚ä½†æ˜¯ï¼Œå®ƒåªå®šä¹‰äº†æ¥å£ï¼Œæ²¡æœ‰å…·ä½“çš„å®ç°ï¼Œéœ€è¦é…åˆå…¶ä»–æ—¥å¿—æ¡†æ¶(log4jã€logbackã€JUL)æ¥ä½¿ç”¨ã€‚Slf4jçš„å‡ºç°ç¨æ™šäºè¿™äº›æ¡†æ¶ï¼Œä¸ºäº†é€‚é…åŸæ¥çš„æ—¥å¿—æ¡†æ¶ï¼ŒSlf4jæ¡†æ¶ä¸ä»…æä¾›å¯ç»Ÿä¸€çš„æ¥å£å®šä¹‰ï¼Œè¿˜æä¾›äº†é’ˆå¯¹ä¸åŒæ—¥å¿—æ¡†æ¶çš„é€‚é…å™¨ã€‚å¯¹ä¸åŒçš„æ—¥å¿—æ¡†æ¶æ¥å£è¿›è¡ŒäºŒæ¬¡å°è£…ï¼Œé€‚é…æˆç»Ÿä¸€çš„Slf4jæ¥å£å®šä¹‰ã€‚



### æ¯”è¾ƒ

è£…é¥°å™¨å’Œé€‚é…å™¨çš„åŒºåˆ«ï¼š

è£…é¥°å™¨åŒ…è£…ä¸€ä¸ªå®ç°åŒä¸€ä¸ªæ¥å£çš„ç±»å¯¹è±¡ï¼Œæ·»åŠ ä¸€äº›è´£ä»»ï¼Œå¹¶ä¸”æ¥å£ä¸å˜ï¼›é€‚é…å™¨åˆ™åŒ…è£…å®ç°ä¸åŒæ¥å£çš„è¢«é€‚é…çš„å¯¹è±¡ï¼Œè¿›è¡Œæ¥å£çš„è½¬æ¢å’Œé€‚é…ï¼Œä»¥è¾¾åˆ°å…¼å®¹çš„æ•ˆæœã€‚



> å®ç°éƒ½å·®ä¸å¤šï¼Œä¸»è¦è¿˜æ˜¯è®¾è®¡çš„æ€æƒ³å¤§ä¸åŒã€‚
>
> ![æå®¢æ—¶é—´](https://cos.jiahongw.com/uPic/image-20220115210157281.png)



---

***Reference***:

1. ã€ŠHead First è®¾è®¡æ¨¡å¼ã€‹
