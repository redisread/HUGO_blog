---
title: è®¾è®¡æ¨¡å¼å°è®°
date: 2022-03-27T19:20:05+08:00
description: è®¾è®¡æ¨¡å¼åŸºäºè®¾è®¡åŸåˆ™ã€‚
draft: false
hideToc: false
enableToc: true
enableTocContent: false
tocPosition: outer
author: Victor
authorEmoji: ğŸ‘»
image: https://cos.jiahongw.com/uPic/681662.png
plantuml: true
libraries:
- katex
- mathjax
tags:
- è®¾è®¡æ¨¡å¼
- è®¾è®¡åŸåˆ™
series:
- è®¾è®¡æ¨¡å¼
categories:
-
---





## è®¾è®¡åŸåˆ™

1.å•ä¸€èŒè´£åŸåˆ™
2.å¼€é—­åŸåˆ™
3.é‡Œæ°æ›¿æ¢åŸåˆ™
4.ä¾èµ–æ³¨å…¥åŸåˆ™
5.æ¥å£åˆ†ç¦»åŸåˆ™
6.è¿ªç±³ç‰¹åŸåˆ™



> å°†å˜åŒ–çš„ä¸œè¥¿æŠ½ç¦»å‡ºæ¥å¹¶ä¸”å°è£…ï¼Œä¸€æ–¹é¢å’ŒåŸæ¥çš„é€»è¾‘è§£è€¦ï¼Œå¦ä¸€æ–¹é¢ï¼Œä¾¿äºåé¢è¿›è¡Œä¿®æ”¹ã€‚



å¦‚ä½•åˆ¤æ–­å•ä¸€èŒè´£ï¼Ÿ

- ä»£ç çš„å‡½æ•°å¤ªå¤šï¼Œå‡½æ•°æˆ–è€…å±æ€§è¿‡å¤š
- ä¾èµ–å…¶ä»–ç±»è¿‡å¤š
- ç§æœ‰æ–¹æ³•è¿‡å¤š
- æ¯”è¾ƒéš¾ç»™ç±»èµ·ä¸€ä¸ªåˆé€‚åå­—ï¼Œå¾ˆéš¾ç”¨ä¸€ä¸ªä¸šåŠ¡åè¯æ¦‚æ‹¬ï¼Œæˆ–è€…åªèƒ½ç”¨ä¸€äº›ç¬¼ç»Ÿçš„ Managerã€Context ä¹‹ç±»çš„è¯è¯­æ¥å‘½å
- ç±»ä¸­å¤§é‡çš„æ–¹æ³•éƒ½æ˜¯é›†ä¸­æ“ä½œç±»ä¸­çš„æŸå‡ ä¸ªå±æ€§



å¦‚ä½•ç†è§£å¼€é—­åŸåˆ™ï¼Ÿ

åªè¦å¯¹åŸæ¥çš„ä»£ç ä¾µå…¥æ€§ä¸å¤§ï¼Œä¸å½±å“ä¸»è¦æµæ°´ï¼Œéƒ½æ˜¯ä¸€ä¸ªåˆæ ¼çš„æ‹“å±•ä»£ç 





## è®¾è®¡æ¨¡å¼

ç®€å•å·¥å‚æ¨¡å¼ Simple Factory Pattern

ä¸­æ–‡	è‹±æ–‡

åˆ›å»ºå‹æ¨¡å¼ï¼š

1.å·¥å‚æ–¹æ³•æ¨¡å¼	Factory Method Pattern
2.æŠ½è±¡å·¥å‚æ¨¡å¼	Abstract Factory Pattern
3.å»ºé€ è€…æ¨¡å¼	Builder Pattern
4.åŸå‹æ¨¡å¼	Prototype Pattern
5.å•ä¾‹æ¨¡å¼	Singleton Pattern

ç»“æ„å‹æ¨¡å¼ï¼š

6.é€‚é…å™¨æ¨¡å¼	Adapter Pattern
7.æ¡¥æ¢æ¨¡å¼/æ¡¥æ¥æ¨¡å¼	Bridge Pattern
8.ç»„åˆæ¨¡å¼	Composite Pattern
9.è£…é¥°æ¨¡å¼	Decorator Pattern
10.é—¨é¢æ¨¡å¼/å¤–è§‚æ¨¡å¼	Facade Pattern
11.äº«å…ƒæ¨¡å¼	Flyweight Pattern
12.ä»£ç†æ¨¡å¼	Proxy pattern

è¡Œä¸ºæ¨¡å¼ï¼š

13.è´£ä»»é“¾æ¨¡å¼	Chain of Responsibility Pattern
14.å‘½ä»¤æ¨¡å¼	Command Pattern
15.è§£é‡Šå™¨æ¨¡å¼	Interpreter Pattern
16.è¿­ä»£å™¨æ¨¡å¼	Iterator Pattern
17.ä¸­ä»‹è€…æ¨¡å¼	Mediator Pattern
18.å¤‡å¿˜å½•æ¨¡å¼	Memento Pattern
19.è§‚å¯Ÿè€…æ¨¡å¼	Observer Pattern
20çŠ¶æ€æ¨¡å¼	State Pattern
21.ç­–ç•¥æ¨¡å¼	Strategy Pattern
22.æ¨¡æ¿æ–¹æ³•æ¨¡å¼	Template Method Pattern
23.è®¿é—®è€…æ¨¡å¼	Visitor Pattern





## ç†è®º





### æ˜¯å¦å› è¯¥ä¸ºæ¯ä¸€ä¸ªç±»éƒ½å®šä¹‰æ¥å£

> ä¸åº”è¯¥ï¼Œåº”è¯¥æ ¹æ®å®é™…çš„éœ€è¦ã€‚

â€œåŸºäºæ¥å£ç¼–ç¨‹è€Œä¸æ˜¯åŸºäºå®ç°ç¼–ç¨‹â€æ›´è¯¦ç»†çš„è¯´æ³•åº”è¯¥æ˜¯â€œåŸºäºæŠ½è±¡ç¼–ç¨‹è€Œä¸æ˜¯åŸºäºå®ç°ç¼–ç¨‹â€ã€‚å› ä¸ºè€ƒè™‘åˆ°æœ‰ä¸€äº›è¯­è¨€ç±»æˆCå’ŒC++éƒ½æ²¡æœ‰æ¥å£interfaceè¿™ç§ç»“æ„ã€‚ï¼ˆè®¾è®¡çš„æ—¶å€™ä¸è¦ä¸€å¼€å§‹å°±å’Œå…·ä½“çš„ç¼–ç¨‹è¯­è¨€è¿›è¡ŒæŒ‚é’©ï¼‰

åšä»»ä½•äº‹æƒ…éƒ½ä¸è¦ä¸€æ¿å­æ‹æ­»ï¼Œä¸è¦è¿‡åº¦ä½¿ç”¨åŸåˆ™ï¼Œæ¯ä¸ªç±»éƒ½å®šä¹‰æ¥å£ï¼Œæ¥å£å¿…å®šæ»¡å¤©é£ï¼ŒåæœŸç®¡ç†ä¹Ÿå›°éš¾ã€‚

ä»è®¾è®¡åˆè¡·æ¥çœ‹ï¼Œå¦‚æœåœ¨æˆ‘ä»¬çš„ä¸šåŠ¡åœºæ™¯ä¸­ï¼ŒæŸä¸ªåŠŸèƒ½åªæœ‰ä¸€ç§å®ç°æ–¹å¼ï¼Œæœªæ¥ä¹Ÿä¸å¯èƒ½è¢«å…¶ä»–å®ç°æ–¹å¼æ›¿æ¢ï¼Œé‚£æˆ‘ä»¬å°±æ²¡æœ‰å¿…è¦ä¸ºå®ƒè®¾è®¡æ¥å£ï¼Œä¹Ÿæ²¡æœ‰å¿…è¦åŸºäºæ¥å£ç¼–ç¨‹ï¼Œç›´æ¥ä½¿ç”¨å®ç°ç±»å°±è¡Œã€‚ï¼ˆä¸»è¦çœ‹æœ‰ä¹ˆæœ‰å¿…è¦è¿›è¡Œæ‹“å±•ï¼Œè¦æ‹“å±•çš„è¯ä½¿ç”¨æ¥å£ç¼–ç¨‹ä¼šæ›´å¥½ï¼‰



## å®æˆ˜

### åŸºäºè´«è¡€æ¨¡å‹çš„MVC

ä¸šåŠ¡å¼€å‘å¸¸ç”¨çš„åŸºäºè´«è¡€æ¨¡å‹çš„MVCæ¡†æ¶è¿èƒŒäº†OOPã€‚

**ä»€ä¹ˆæ˜¯åŸºäºè´«è¡€çš„ä¼ ç»Ÿå¼€å‘æ¨¡å¼ï¼Ÿ**

å¹³æ—¶å¼€å‘Webåç«¯é¡¹ç›®çš„æ—¶å€™ï¼ŒåŸºæœ¬ä¸Šæ˜¯è¿™ä¹ˆç»„ç»‡ä»£ç çš„ï¼šå…¶ä¸­Entityå’ŒRepositoryç»„æˆäº†æ•°æ®è®¿é—®å±‚ï¼ŒBoå’ŒServiceç»„æˆäº†ä¸šåŠ¡é€»è¾‘å±‚ï¼ŒVoå’ŒControllerå±äºæ¥å£å±‚ã€‚

Boæ˜¯ä¸€ä¸ªçº¯ç²¹çš„æ•°æ®ç»“æ„ï¼ŒåªåŒ…å«æ•°æ®ï¼Œä¸åŒ…å«ä»»ä½•ä¸šåŠ¡é€»è¾‘ã€‚ä¸šåŠ¡é€»è¾‘é›†ä¸­åœ¨Serviceä¸­ã€‚é€šè¿‡Serviceæ¥æ“ä½œBoã€‚åƒBoè¿™æ ·ï¼ŒåªåŒ…å«æ•°æ®ï¼Œä¸åŒ…å«ä¸šåŠ¡é€»è¾‘çš„ç±»ï¼Œå°±å«åšè´«è¡€æ¨¡å‹ã€‚åŒç†ï¼ŒEntityå’ŒVoä¹Ÿéƒ½æ˜¯åŸºäºè´«è¡€æ¨¡å‹è®¾è®¡çš„ã€‚è´«è¡€æ¨¡å‹å°†æ•°æ®ä¸æ“ä½œåˆ†ç¦»ï¼Œç ´åäº†é¢å‘å¯¹è±¡çš„å°è£…æ€§ï¼Œæ˜¯ä¸€ç§å…¸å‹çš„é¢ç›¸è¿‡ç¨‹çš„ç¼–ç¨‹é£æ ¼ã€‚



**ä»€ä¹ˆæ˜¯åŸºäºå……è¡€æ¨¡å‹çš„DDDå¼€å‘æ¨¡å¼ï¼Ÿ**

åœ¨è´«è¡€æ¨¡å‹ä¸­ï¼Œæ•°æ®å’Œæ“ä½œé€»è¾‘è¢«åˆ†ç¦»åˆ°ä¸¤ä¸ªç±»ä¸­ï¼›å……è¡€æ¨¡å‹æ­£å¥½ç›¸åï¼Œæ•°æ®å’Œå¯¹åº”çš„ä¸šåŠ¡é€»è¾‘è¢«å°è£…åˆ°åŒä¸€ä¸ªç±»ä¸­ã€‚å› æ­¤ï¼Œå……è¡€æ¨¡å‹æ»¡è¶³é¢å‘å¯¹è±¡çš„å°è£…ç‰¹æ€§ï¼Œæ˜¯å…¸å‹çš„é¢å‘å¯¹è±¡ç¼–ç¨‹é£æ ¼ã€‚

> ä»€ä¹ˆæ˜¯é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼Ÿ
>
> é¢†åŸŸé©±åŠ¨è®¾è®¡å³DDDï¼Œä¸»è¦æ˜¯ç”¨æ¥æŒ‡å¯¼å¦‚ä½•è§£è€¦ä¸šåŠ¡ç³»ç»Ÿï¼Œåˆ’åˆ†ä¸šåŠ¡æ¨¡å—ï¼Œå®šä¹‰ä¸šåŠ¡é¢†åŸŸæ¨¡å‹åŠå…¶äº¤äº’ã€‚

å®é™…ä¸Šï¼ŒåŸºäºå……è¡€æ¨¡å‹çš„DDDå¼€å‘æ¨¡å¼å®ç°çš„ä»£ç ï¼Œä¹Ÿæ˜¯æŒ‰ç…§MVCä¸‰å±‚æ¶æ„åˆ†å±‚çš„ã€‚Controllerè¿˜æ˜¯è´Ÿè´£æš´éœ²æ¥å£ï¼ŒRepositoryè¿˜æ˜¯è´Ÿè´£æ•°æ®å­˜å–ï¼ŒServiceå±‚è´Ÿè´£æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ã€‚å®ƒå’ŒåŸºäºè´«è¡€æ¨¡å‹çš„å¼€å‘æ¨¡å¼çš„åŒºåˆ«ä¸»è¦åœ¨Serviceå±‚ã€‚

åœ¨åŸºäºå……è¡€æ¨¡å‹çš„DDDå¼€å‘æ¨¡å¼ä¸­ï¼ŒServiceå±‚åŒ…å«Serviceç±»å’ŒDomainç±»ä¸¤éƒ¨åˆ†ã€‚Domainç±»ç›¸å½“äºè´«è¡€æ¨¡å‹ä¸­çš„Boã€‚ä½†æ˜¯ï¼ŒDomainå’ŒBoçš„åŒºåˆ«åœ¨äºDomainæ˜¯åŸºäºå……è¡€æ¨¡å‹å¼€å‘çš„ï¼Œå³åŒ…å«æ•°æ®ï¼Œä¹ŸåŒ…å«ä¸šåŠ¡é€»è¾‘ã€‚è€ŒServiceç±»å˜å¾—éå¸¸å•è–„ã€‚æ€»ç»“ä¸€ä¸‹ï¼šåŸºäºè´«è¡€çš„ä¼ ç»Ÿå¼€å‘æ¨¡å¼ï¼Œé‡Serviceè½»Boï¼›åŸºäºå……è¡€æ¨¡å‹çš„DDDå¼€å‘æ¨¡å¼ï¼Œè½»Serviceé‡Domainã€‚

åŒºåˆ«äºDomainçš„èŒè´£ï¼ŒServiceç±»ä¸»è¦æœ‰ä¸‹é¢çš„å‡ ä¸ªèŒè´£ï¼ˆä¸ºä»€ä¹ˆæ²¡æœ‰å°†Serviceç±»å»æ‰ï¼‰ï¼š

1. Serviceè´Ÿè´£å’ŒRepositoryäº¤æµã€‚è·å–æ•°æ®ä¹‹åï¼Œæ‰è½¬æ¢æˆé¢†åŸŸæ¨¡å‹è¿›è¡Œæ“ä½œã€‚æˆ–è€…é¢†åŸŸæ¨¡å‹è®¡ç®—å®Œæˆä¹‹åï¼Œå†é€šè¿‡Serviceè°ƒç”¨Repositoryè¿›è¡Œå­˜å‚¨ã€‚ï¼ˆä¿è¯é¢†åŸŸæ¨¡å‹çš„ç‹¬ç«‹æ€§ï¼‰
2. Serviceç±»è´Ÿè´£è·¨é¢†åŸŸæ¨¡å‹çš„èšåˆåŠŸèƒ½ã€‚
3. Serviceç±»è´Ÿè´£ä¸€äº›éåŠŸèƒ½æ€§åŠç¬¬ä¸‰æ–¹ç³»ç»Ÿäº¤äº’çš„å·¥ä½œã€‚æ¯”å¦‚å¹‚ç­‰ã€äº‹åŠ¡ã€å‘é‚®ä»¶ã€å‘æ¶ˆæ¯ã€è®°å½•æ—¥å¿—ã€è°ƒç”¨ç³»ç»ŸæœåŠ¡çš„RPCæ¥å£ç­‰ã€‚

> Controllerå±‚å’ŒRepositoryå±‚è¿˜æ˜¯åŸºäºè´«è¡€æ¨¡å‹ï¼Œä½†æ˜¯æ²¡æœ‰å¿…è¦ä¿®æ”¹æˆDDDæ¨¡å¼ï¼Œå› ä¸ºè¿™ä¸¤ä¸ªå±‚çš„é€»è¾‘æœ¬æ¥å°±æ¯”è¾ƒå•ä¸€ï¼Œæ²¡å¿…è¦ä½¿ç”¨å……è¡€æ¨¡å‹ã€‚



**ä¸ºä»€ä¹ˆè´«è¡€æ¨¡å‹é‚£ä¹ˆå—æ¬¢è¿**

1. è´«è¡€æ¨¡å‹ç®€å•ï¼Œä¸šåŠ¡ç®€å•ã€‚å……è¡€æ¨¡å‹éš¾ï¼Œè€ƒè™‘çš„åœ°æ–¹å¤šã€‚
2. æ€ç»´å›ºåŒ–ï¼Œè½¬å‹æœ‰æˆæœ¬ã€‚



**ä»€ä¹ˆé¡¹ç›®åº”è¯¥è€ƒè™‘ä½¿ç”¨åŸºäºå……è¡€æ¨¡å‹çš„DDDå¼€å‘æ¨¡å¼ï¼Ÿ**

åŸºäºè´«è¡€æ¨¡å‹çš„ä¼ ç»Ÿå¼€å‘æ¨¡å¼é€‚åˆä¸šåŠ¡é€»è¾‘æ¯”è¾ƒç®€å•çš„é¡¹ç›®ï¼Œè€ŒåŸºäºå……è¡€æ¨¡å‹çš„DDDå¼€å‘æ¨¡å¼é€‚åˆä¸šåŠ¡å¤æ‚çš„ç³»ç»Ÿé¡¹ç›®ã€‚æ¯”å¦‚ï¼ŒåŒ…å«å„ç§åˆ©æ¯è®¡ç®—æ¨¡å‹ã€è¿˜æ¬¾æ¨¡å‹ç­‰å¤æ‚ä¸šåŠ¡çš„é‡‘èç³»ç»Ÿã€‚

> DDDå¼€å‘æ¨¡å¼éœ€è¦æˆ‘ä»¬å‰æœŸåšå¤§é‡çš„ä¸šåŠ¡è°ƒç ”ã€é¢†åŸŸæ¨¡å‹è®¾è®¡ï¼Œæ‰€ä»¥å®ƒæ›´é€‚åˆå¤æ‚ç³»ç»Ÿçš„å¼€å‘ã€‚



### æ¥å£é‰´æƒåŠŸèƒ½é¢å‘å¯¹è±¡åˆ†æ

> OOAï¼šé¢å‘å¯¹è±¡åˆ†æ
>
> OODï¼šé¢å‘å¯¹è±¡è®¾è®¡
>
> OOPï¼šé¢å‘å¯¹è±¡ç¼–ç¨‹

é¢å‘å¯¹è±¡åˆ†ææ­¥éª¤ï¼š

1. åŸºç¡€åˆ†æ
2. åˆ†æä¼˜åŒ–
3. ç»§ç»­åˆ†æä¼˜åŒ–



é¢å‘å¯¹è±¡è®¾è®¡æ­¥éª¤ï¼š

1. åˆ’åˆ†èŒè´£è¿›è€Œè¯†åˆ«å‡ºæœ‰å“ªäº›ç±»
2. å®šä¹‰ç±»åŠå…¶å±æ€§å’Œæ–¹æ³•
3. å®šä¹‰ç±»ä¸ç±»ä¹‹é—´çš„äº¤äº’å…³ç³»
4. å°†ç±»ç»„è£…èµ·æ¥å¹¶æä¾›æ‰§è¡Œå…¥å£



---

***Referenceï¼š***

1. [åˆ›å»ºå‹æ¨¡å¼ â€” Graphic Design Patterns](https://design-patterns.readthedocs.io/zh_CN/latest/creational_patterns/creational.html)



