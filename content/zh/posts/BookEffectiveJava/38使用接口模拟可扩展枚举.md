---
title: 38ä½¿ç”¨æ¥å£æ¨¡æ‹Ÿå¯æ‰©å±•æšä¸¾
date: 2021-11-11T17:44:54+08:00
description:
draft: true
hideToc: false
enableToc: true
enableTocContent: false
tocPosition: outer
author: Victor
authorEmoji: ğŸª¶
image:
plantuml: true
libraries:
- katex
- mathjax
tags:
-
series:
-
categories:
-
---





**Enumå¯ä»¥å®ç°æ¥å£ï¼Œä½¿ç”¨æ¥å£å®šä¹‰ç±»å‹å¯¹è±¡ï¼Œç„¶åè°ƒç”¨ï¼Œåƒç®€å•çš„ç»§æ‰¿å…³ç³»ä¸€æ ·ã€‚**



å®šä¹‰ä¸€ä¸ªæ¥å£ï¼š

```java
public interface Operation {
    double apply(double x, double y);
}
```

å®šä¹‰ç¬¬ä¸€ä¸ªEnumï¼š

```java
public enum BasicOperation implements Operation {
  PLUS("+") {
        public double apply(double x, double y) { return x + y; }
  }
  private final String symbol;

  BasicOperation(String symbol) {
    this.symbol = symbol;
  }
  @Override
  public String toString() {
    return symbol;
  }
}
```

å®šä¹‰ç¬¬äºŒä¸ªEnumï¼ˆæ¨¡æ‹Ÿæ‹“å±•ï¼‰ï¼š

```java
public enum ExtendedOperation implements Operation {
  EXP("^") {
    public double apply(double x, double y) {
      return Math.pow(x, y);
    }
  }
  private final String symbol;

  BasicOperation(String symbol) {
    this.symbol = symbol;
  }
  @Override
  public String toString() {
    return symbol;
  }
}
```



ä½¿ç”¨ï¼š

```java
public static void main(String[] args) {
    Operation op = BasicOperation.DIVIDE;
    System.out.println(op.apply(15, 3));
    op=ExtendedOperation.EXP;
    System.out.println(op.apply(2,5));
}
```



ä½¿ç”¨æ¥å£æ¥æ¨¡æ‹Ÿå¯æ‰©å±•æšä¸¾çš„ä¸€ä¸ªå°ç¼ºç‚¹æ˜¯å®ç°ä¸èƒ½ä»ä¸€ä¸ªæšä¸¾ç±»å‹ç»§æ‰¿åˆ°å¦ä¸€ä¸ªæšä¸¾ç±»å‹ã€‚å¦‚æœå®ç°ä»£ç ä¸ä¾èµ–äºä»»ä½•çŠ¶æ€ï¼Œåˆ™å¯ä»¥ä½¿ç”¨é»˜è®¤å®ç°å°†å…¶æ”¾ç½®åœ¨æ¥å£ä¸­ã€‚åœ¨æˆ‘ä»¬çš„ Operation ç¤ºä¾‹ä¸­ï¼Œå­˜å‚¨å’Œæ£€ç´¢ä¸æ“ä½œç›¸å…³çš„ç¬¦å·çš„é€»è¾‘å¿…é¡»åœ¨ BasicOperation å’Œ ExtendedOperation ä¸­å¤åˆ¶ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿™å¹¶ä¸é‡è¦ï¼Œå› ä¸ºå¤åˆ¶çš„ä»£ç éå¸¸å°‘ã€‚å¦‚æœæœ‰å¤§é‡çš„å…±äº«åŠŸèƒ½ï¼Œå¯ä»¥å°†å…¶å°è£…åœ¨ helper ç±»æˆ–é™æ€ helper æ–¹æ³•ä¸­ï¼Œä»¥æ¶ˆé™¤ä»£ç é‡å¤ã€‚

æ€»ä¹‹ï¼Œè™½ç„¶ä½ ä¸èƒ½ç¼–å†™å¯æ‰©å±•æšä¸¾ç±»å‹ï¼Œä½†æ˜¯ä½ å¯ä»¥é€šè¿‡ç¼–å†™æ¥å£æ¥æ¨¡æ‹Ÿå®ƒï¼Œä»¥ä¾¿ä¸å®ç°è¯¥æ¥å£çš„åŸºæœ¬æšä¸¾ç±»å‹ä¸€èµ·ä½¿ç”¨ã€‚

---

***Reference***:

1. [Item 38: Emulate extensible enums with interfacesï¼ˆä½¿ç”¨æ¥å£æ¨¡æ‹Ÿå¯æ‰©å±•æšä¸¾ï¼‰](https://github.com/clxering/Effective-Java-3rd-edition-Chinese-English-bilingual/blob/dev/Chapter-6/Chapter-6-Item-38-Emulate-extensible-enums-with-interfaces.md)
