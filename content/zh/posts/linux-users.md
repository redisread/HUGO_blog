---
title: "Linuxç”¨æˆ·ç®¡ç†"
date: 2020-04-15T16:34:03+08:00
description:
draft: false
hideToc: false
enableToc: true
enableTocContent: false
tocPosition: inner
author: Victor
authorEmoji: ğŸ‘»
image: https://i.loli.net/2020/04/15/Uxgb7hFP2YDVMuQ.png
libraries:
- katex
- mathjax
tags:
- Linux
- ç”¨æˆ·ç®¡ç†
series:
- Linux
categories:
-
---









æ¯ä¸€ä¸ªç”¨æˆ·éƒ½æ˜¯ä¸€ä¸ªä¸ªä½“ï¼Œæ¯ä¸€ä¸ªä¸ªä½“éƒ½å±äºä¸€ä¸ªç¾¤ç»„ï¼Œè€Œæ¯ä¸€ä¸ªç¾¤ç»„åˆæœ‰åŒºåˆ«!

â€”â€”Users

<!--more-->

> Linuxç³»ç»Ÿæ˜¯ä¸€ä¸ªå¤šç”¨æˆ·å¤šä»»åŠ¡çš„æ“ä½œç³»ç»Ÿï¼Œä»»ä½•ä¸€ä¸ªè¦ä½¿ç”¨ç³»ç»Ÿèµ„æºçš„ç”¨æˆ·ï¼Œéƒ½å¿…é¡»é¦–å…ˆå‘ç³»ç»Ÿç®¡ç†å‘˜ç”³è¯·ä¸€ä¸ªè´¦å·ï¼Œç„¶åä»¥è¿™ä¸ªè´¦å·çš„èº«ä»½è¿›å…¥ç³»ç»Ÿã€‚



## æ·»åŠ ç”¨æˆ·

### åŸºæœ¬è¯­æ³•

```
useradd [é€‰é¡¹] ç”¨æˆ·å
```

### å®æ“

è¾“å…¥ä»¥ä¸‹å‘½ä»¤ä¹‹ååˆ›å»ºä¸€ä¸ªç”¨æˆ·victor

![åˆ›å»ºç”¨æˆ·](https://i.loli.net/2020/04/15/tJLFclqwxGHb5rm.png)

è¿™é‡Œæˆ‘ä»¬é€‰é¡¹å‚æ•°ä»€ä¹ˆä¹Ÿæ²¡æœ‰å†™ï¼Œæ­¤æ—¶ä¼šé»˜è®¤åœ¨`/home`ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª`/victor`çš„æ–‡ä»¶å¤¹ç”¨äºä¿å­˜ç”¨æˆ·victorç”¨æˆ·çš„æ•°æ®ä¿¡æ¯ã€‚

![](https://i.loli.net/2020/04/15/3wTmBWdzl6y1Vnv.png)

å½“ç„¶æˆ‘ä»¬å¯ä»¥æŒ‡å®šå‚æ•°ï¼š

ç”¨å‚æ•° `-d ç›®å½•`æŒ‡å®šç”¨æˆ·ä¿¡æ¯å­˜å‚¨çš„ç›®å½•ï¼Œä½¿ç”¨å‘½ä»¤`useradd -d /home/test tom`åˆ›å»ºç”¨æˆ·tomã€‚

![](https://i.loli.net/2020/04/15/zCa2dONRnbeGPYk.png)

ä½¿ç”¨`-g ç”¨æˆ·ç»„`æŒ‡å®šå°†å½“å‰åˆ›å»ºçš„ç”¨æˆ·æ·»åŠ åˆ°æŒ‡å®šçš„ç”¨æˆ·ç»„ï¼Œä½¿ç”¨å‘½ä»¤`useradd -g root wjh`å°†æ–°å»ºç”¨æˆ·`wjh`æ·»åŠ åˆ°rootç”¨æˆ·ç»„ã€‚

![](https://i.loli.net/2020/04/15/NOZvBLeQiyT8skC.png)

## ç»™ç”¨æˆ·è®¾ç½®å¯†ç 

### åŸºæœ¬è¯­æ³•

```
passwd ç”¨æˆ·å
```

### å®æ“

ç»™ç”¨æˆ·victorè®¾ç½®å¯†ç (é»˜è®¤å¯†ç æ˜¯ä¸ä¼šæ˜¾ç¤ºå‡ºæ¥çš„)

![](https://gitee.com/wujiahong1998/MyBed/raw/master/img/20200415165840.png)

ä¸‹é¢å¯ä»¥ä½¿ç”¨victorè¿™ä¸ªç”¨æˆ·ç™»é™†

![](https://i.loli.net/2020/04/15/ZilrfSbX3Yyjgco.png)

é»˜è®¤æ˜¯ä¸èƒ½è®¿é—®rootç”¨æˆ·çš„æ–‡ä»¶çš„ï¼Œå› ä¸ºä¸åœ¨åŒä¸€ä¸ªç»„

![](https://i.loli.net/2020/04/15/AqL6VMnfsSgjo4D.png)

## åˆ‡æ¢ç”¨æˆ·

### åŸºæœ¬è¯­æ³•

```
su - åˆ‡æ¢ç”¨æˆ·å
```

### å®æ“

åˆ‡æ¢åˆ°rootã€‚å…¶ä¸­ä½æƒé™ç”¨æˆ·åˆ‡æ¢åˆ°é«˜æƒé™ç”¨æˆ·éœ€è¦è¾“å…¥å¯†ç ã€‚

![](https://gitee.com/wujiahong1998/MyBed/raw/master/img/20200415170504.png)

é€€å‡ºåˆ‡æ¢ä½¿ç”¨`exit`![](https://gitee.com/wujiahong1998/MyBed/raw/master/img/20200415170554.png)

## åˆ é™¤ç”¨æˆ·

### åŸºæœ¬è¯­æ³•

```
userdel [é€‰é¡¹] ç”¨æˆ·å
```

å…¶ä¸­é€‰é¡¹å‚æ•°å¯ä»¥æ·»åŠ `-r`ï¼Œè¡¨ç¤ºåˆ é™¤ç”¨æˆ·æ—¶åŒæ—¶åˆ é™¤ä¿å­˜ç”¨æˆ·çš„æ–‡ä»¶å¤¹ã€‚

### å®æ“

åˆ é™¤ç”¨æˆ·tom

![](https://gitee.com/wujiahong1998/MyBed/raw/master/img/20200415171056.png)

å¯ä»¥çœ‹åˆ°ä¹‹å‰tomè‡´ç”µç»™åˆ›å»ºçš„æ–‡ä»¶å¤¹`test`å¹¶æ²¡æœ‰åˆ é™¤ã€‚

> æ³¨æ„ï¼Œåˆ é™¤ç”¨æˆ·å¿…é¡»è¦rootæƒé™ï¼Œä¸ç„¶åˆ é™¤ä¸äº†ã€‚
>
> ![](https://gitee.com/wujiahong1998/MyBed/raw/master/img/20200415170855.png)

åˆ é™¤ç”¨æˆ·victorï¼ŒåŒæ—¶åˆ é™¤å…¶æ–‡ä»¶å¤¹ï¼Œvictoræ–‡ä»¶å¤¹æ¶ˆå¤±äº†

![](https://gitee.com/wujiahong1998/MyBed/raw/master/img/20200415171226.png)



## å…¶ä»–æ“ä½œ

### æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯

è¯­æ³•

```
id ç”¨æˆ·å
```

å¦‚ä¸‹æŸ¥è¯¢ç”¨æˆ·rootçš„ä¿¡æ¯

![](https://gitee.com/wujiahong1998/MyBed/raw/master/img/20200415171453.png)

*rootç”¨æˆ·çš„ç”¨æˆ·idä¸º0ï¼Œç»„idä¸º0ï¼Œç»„ä¸º0*

### æŸ¥è¯¢å½“å‰ç”¨æˆ·

è¯­æ³•

```
whoami
```

![](https://gitee.com/wujiahong1998/MyBed/raw/master/img/20200415171729.png)



## ç”¨æˆ·ç»„

> ç±»ä¼¼äºè§’è‰²ï¼Œç³»ç»Ÿå¯ä»¥å¯¹æœ‰å…±æ€§çš„å¤šä¸ªç”¨æˆ·è¿›è¡Œç»Ÿä¸€çš„ç®¡ç†ã€‚

ç”¨æˆ·ç»„å…³ç³»å›¾ï¼š

![](https://gitee.com/wujiahong1998/MyBed/raw/master/img/20200415172934.png)

### å¢åŠ ç»„

è¯­æ³•

```
groupadd ç»„å
```

å¢åŠ ç”¨æˆ·ç»„`test`

![](https://gitee.com/wujiahong1998/MyBed/raw/master/img/20200415172239.png)

### åˆ é™¤ç»„

è¯­æ³•

```
groupdel ç»„å
```

åˆ é™¤ç”¨æˆ·ç»„`test`

![](https://gitee.com/wujiahong1998/MyBed/raw/master/img/20200415172320.png)

### ä¿®æ”¹ç”¨æˆ·çš„ç»„

è¯­æ³•

```
usermod -g ç”¨æˆ·ç»„ ç”¨æˆ·å
```



## ç›¸å…³é…ç½®æ–‡ä»¶

* ç”¨æˆ·ä¿¡æ¯æ–‡ä»¶ï¼š`/etc/passwd`
* å¯†ç æ–‡ä»¶ï¼š `/etc/shadow`
* ç”¨æˆ·ç»„æ–‡ä»¶ï¼š`/etc/group`
* ç”¨æˆ·ç»„å¯†ç æ–‡ä»¶ï¼š `/etc/gshadow`
* ç”¨æˆ·é…ç½®æ–‡ä»¶ï¼š
     `/etc/login.defs`
     `/etc/default/useradd`
* æ–°ç”¨æˆ·ä¿¡æ¯æ–‡ä»¶ï¼š`/etc/skel`
* ç™»å½•ä¿¡æ¯ï¼š`/etc/motd`



### /etc/passwd

![](https://gitee.com/wujiahong1998/MyBed/raw/master/img/20200415175058.png)

æ¯ä¸€è¡Œå†…å®¹å­˜æ”¾ä¸€ä¸ªç”¨æˆ·çš„ä¿¡æ¯ï¼Œæ¯ä¸ªç”¨æˆ·ä¿¡æ¯æœ‰7éƒ¨åˆ†ç»„æˆ
rootâ€‹ï¼šx:0:0:root:/root:/bin/bash
root        ç”¨æˆ·å     ã€€ã€€  ç”¨æˆ·ç™»å½•ç³»ç»Ÿæ—¶ä½¿ç”¨çš„ç”¨æˆ·å
x             å¯†ç          ã€€ã€€ å¯†ç ä½
2             UID        ã€€ã€€  ç”¨æˆ·æ ‡è¯†å·
2             GID     ã€€ã€€     ç¼ºçœç»„æ ‡è¯†
root     æ³¨é‡Šæ€§æè¿°  ã€€ã€€  ä¾‹å¦‚å­˜æ”¾ç”¨æˆ·å…¨åç­‰ä¿¡æ¯
/root         å®¿ä¸»ç›®å½•       ç”¨æˆ·ç™»å½•ç³»ç»Ÿåçš„ç¼ºçœç›®å½•
/bin/bash   å‘½ä»¤è§£é‡Šå™¨    ç”¨æˆ·ä½¿ç”¨çš„Shell ,é»˜è®¤ä¸ºbash



> UIDåˆ†ç±»
>
> **è¶…çº§ç”¨æˆ·**ï¼šï¼ˆroot  UID=0ï¼‰
>
> **æ™®é€šç”¨æˆ·**ï¼š ï¼ˆUID 500~60000ï¼‰
>
> **ä¼ªç”¨æˆ·**ï¼š  ï¼ˆUID  1~499ï¼‰
>
> 
>
> ä»€ä¹ˆæ˜¯**ä¼ªç”¨æˆ·**?
>
> 1. ä¼ªç”¨æˆ·ä¸ç³»ç»Ÿå’Œç¨‹åºæœåŠ¡ç›¸å…³
>
>   binã€daemonã€shutdownã€haltç­‰ï¼Œä»»ä½•Linuxç³»ç»Ÿé»˜è®¤éƒ½æœ‰è¿™äº›ä¼ªç”¨æˆ·ã€‚
>
>   mailã€newsã€gamesã€apacheã€ftpã€mysqlåŠsshdç­‰ï¼Œä¸linuxç³»ç»Ÿçš„è¿›ç¨‹ç›¸å…³ã€‚
>
> 2. ä¼ªç”¨æˆ·é€šå¸¸ä¸éœ€è¦æˆ–æ— æ³•ç™»å½•ç³»ç»Ÿ
>
> 3. å¯ä»¥æ²¡æœ‰å®¿ä¸»ç›®å½•

### /etc/shadow

æ¯è¡Œçš„å«ä¹‰ï¼š ç™»å½•å: åŠ å¯†å£ä»¤: æœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´: æœ€å°æ—¶é—´é—´éš”: æœ€å¤§æ—¶é—´é—´éš”:è­¦å‘Šæ—¶é—´: ä¸æ´»åŠ¨æ—¶é—´: å¤±æ•ˆæ—¶é—´:æ ‡å¿—

![/etc/shadow](https://gitee.com/wujiahong1998/MyBed/raw/master/img/20200415175551.png)



### /etc/group

æ¯è¡Œå«ä¹‰ï¼š ç»„å: å£ä»¤: ç»„æ ‡è¯†å·: ç»„å†…ç”¨æˆ·åˆ—è¡¨

![/etc/group](https://gitee.com/wujiahong1998/MyBed/raw/master/img/20200415175715.png)

---

1. [https://www.cnblogs.com/qmfsun/p/3674024.html](https://www.cnblogs.com/qmfsun/p/3674024.html) [linuxç”¨æˆ·ç®¡ç†å‘½ä»¤](https://www.cnblogs.com/qmfsun/p/3674024.html)